"use strict";(self.webpackChunkreact_films_services=self.webpackChunkreact_films_services||[]).push([[381],{461:function(t,e,n){var r=n(689),a=n(87),c=n(184);e.Z=function(t){var e=t.movies,n=(0,r.TH)();return(0,c.jsx)("ul",{children:e.map((function(t){var e=t.title,r=t.id,u=t.name;return(0,c.jsxs)("li",{children:[(0,c.jsx)(a.rU,{to:"/movies/".concat(r),state:{from:n},children:e||u})," "]},r)}))})}},381:function(t,e,n){n.r(e),n.d(e,{default:function(){return p}});var r=n(439),a=n(87),c=n(791),u=n(260),o=n(461),i=n(184),s=function(){var t,e=(0,a.lr)(),n=(0,r.Z)(e,2),s=n[0],p=n[1],l=(0,c.useState)([]),f=(0,r.Z)(l,2),h=f[0],v=f[1],m=null!==(t=s.get("query"))&&void 0!==t?t:"",d=(0,c.useState)(m),y=(0,r.Z)(d,2),g=y[0],x=y[1];(0,c.useEffect)((function(){(null!==g&&void 0!==g?g:m)&&(0,u.qF)(g).then((function(t){return v(t.data.results)}))}),[g,m]);return(0,i.jsxs)("div",{children:[(0,i.jsxs)("form",{onSubmit:function(t){t.preventDefault();var e=t.target.query.value.trim();x(e)},children:[(0,i.jsx)("input",{name:"query",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",value:m,onChange:function(t){var e=t.target;p({query:e.value})},type:"text"}),(0,i.jsx)("button",{type:"submit",children:"submit"})]}),h&&(0,i.jsx)(o.Z,{movies:h})]})},p=function(){return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(s,{})})}},260:function(t,e,n){n.d(e,{Pg:function(){return m},pv:function(){return h},qF:function(){return y},tx:function(){return w},zv:function(){return x}});var r=n(861),a=n(757),c=n.n(a),u=n(340),o="k_yjb6zjrs",i="https://api.themoviedb.org/3",s=("".concat(i,"/MostPopularMovies/").concat(o),"/trending/all/day"),p="/search/movie",l="/movie";u.Z.defaults.baseURL=i;var f={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI5OGU5MzBjMmZhNzRjYWVhNjRmMjAyNmNmNzBlYzQxMyIsInN1YiI6IjY0NmQwNWJhZDE4NTcyMDE4MDJlOGYyOSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.gvC078v2ZEDlsUKlhf6XJhVHnGo7gwYMbWV5S3NVSKY"}};function h(){return v.apply(this,arguments)}function v(){return v=(0,r.Z)(c().mark((function t(){var e,n=arguments;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.length>0&&void 0!==n[0]?n[0]:1,t.next=3,u.Z.get(s,f);case 3:return e=t.sent,t.abrupt("return",e);case 5:case"end":return t.stop()}}),t)}))),v.apply(this,arguments)}function m(t){return d.apply(this,arguments)}function d(){return(d=(0,r.Z)(c().mark((function t(e){var n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.Z.get("".concat(l,"/").concat(e,"?api_key=").concat(o,"&language=en-US"),f);case 3:return n=t.sent,t.abrupt("return",n);case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0),alert(t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function y(t){return g.apply(this,arguments)}function g(){return g=(0,r.Z)(c().mark((function t(e){var n,r=arguments;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:1,t.prev=1,t.next=4,u.Z.get("".concat(p,"?api_key=").concat(o,"&language=en-US&query=").concat(e,"&page=").concat(n),f);case 4:return t.abrupt("return",t.sent);case 7:t.prev=7,t.t0=t.catch(1),alert(t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[1,7]])}))),g.apply(this,arguments)}function x(t){return j.apply(this,arguments)}function j(){return(j=(0,r.Z)(c().mark((function t(e){var n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(l,"/").concat(e,"/credits?api_key=").concat(o,"&language=en-US"),f).then((function(t){if(t.ok)return t.json();throw new Error}));case 3:return n=t.sent,t.abrupt("return",n);case 7:t.prev=7,t.t0=t.catch(0),alert("\u0422\u0443\u0442 \u0437\u043e\u0432\u0441\u0456\u043c \u043f\u043e\u0440\u043e\u0436\u043d\u044c\u043e");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function w(t){return Z.apply(this,arguments)}function Z(){return(Z=(0,r.Z)(c().mark((function t(e){var n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(l,"/").concat(e,"/reviews?api_key=").concat(o,"&language=en-US"),f).then((function(t){if(t.ok)return t.json();throw new Error}));case 3:return n=t.sent,t.abrupt("return",n);case 7:t.prev=7,t.t0=t.catch(0),alert("\u0422\u0443\u0442 \u0437\u043e\u0432\u0441\u0456\u043c \u043f\u043e\u0440\u043e\u0436\u043d\u044c\u043e");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}}}]);
//# sourceMappingURL=381.1be0586c.chunk.js.map